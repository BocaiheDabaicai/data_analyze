# 数据分析 - 机器学习

1. 统计学进阶
   
   - 描述统计学，对数据进行描述和总结
   
   - 推断统计学，通过样本做出关于总体的推断或预测
   
   - 假设检验，用来判断数值是否真正的出现了理想的变化
   
   - 样本，总体数据里的一个子集
   
   - 总体的推断结论，由样本数据推测总体数据的结论
   
   - 统计量，描述样本特征的数值
   
   - 参数，描述总体特征的数值
   
   - 独立双样本t检验，两个独立的总体数据里的子集进行样本的平均值检验，判断是否存在统计显著的差异【前提：总体数据大致上呈现正态分布】
     
     - 建立假设，原假设`H0`和备择假设`H1`，即符合条件的假设和不符合条件的假设
     
     - 选择单尾检验或双尾检验
       
       - 单尾检验，即设立原假设（A>B）和备择假设（A<=B）或者相反的情况，进行判断
       
       - 双尾假设，原假设（两个参数不存在差异）、备择假设（两个参数之间存在差异）
     
     - 确定显著水平
       
       - 显著水平低，那么允许检验犯错误的概率低，检验容纳错误的情况少
       
       - 显著水平高，那么允许检验犯错误的概率高，检验容纳错误的情况多
     
     - 计算t值
       
       - $t = \frac {\tilde x1 - \tilde x2} {\sqrt{\frac{s1^2}{n1} + \frac{s2^2}{n2}}}$
       - $\tilde x1$和$\tilde x2$是两个样本的均值
       - $s1^2$和$s2^2$是两个样本的方差
       - $n1$和$n2$是两个样本的大小
     
     - 计算自由度，自由度 = 样本1的数量 + 样本2的数量 - 2
     
     - 获取t值临界值，在网上搜索临界值表，观察计算出来的t值、自由度对应的临界值
     
     - 比较临界值和t值
       
       - t值>=临界值，原假设不成立
       
       - t值<临界值，原假设成立
   
   - 独立双样本z检验
     
     - 建立假设
     
     - 选择单尾检验或双尾检验
     
     - 确定显著水平
     
     - 计算z值
       
       - $z = \frac {\tilde x1 - \tilde x2} {\sqrt{\frac{\sigma 1^2}{n1} + \frac{\sigma 2^2}{n2}}}$
       
       - $\tilde x1$和$\tilde x2$是两个样本的均值
       
       - $\sigma 1^2$和$\sigma 2^2$是两个总体的已知方差
       
       - $n1$和$n2$是两个样本的大小
     
     - 获取z值临界值
     
     - 比较临界值和z值
   
   - 能知道总体的方差，那么就进行独立双样本z检验
   
   - 如果样本的数量>30，那么可以采用独立双样本z检验或者独立双样本t检验
   
   - 如果样本的数量<=30，那么就进行独立双样本t检验
   
   - 提示：独立双样本z检验，可以提供更高的准确性和敏感性

2. 编码过程
   
   - 独立双样本t检验
     
     - 安装依赖包`pip install scipy`
     
     - 引入模块`from scipy.stats import ttest_ind`
     
     - 关键代码：
       
       ```python
       t_stat, p_value = ttest_ind(height_a,height_b)
       alpha = 0.5
       if p_value < alpha:
           print("两组数据有明显差异")
       else:
           print("两组数据无明显差异")
       ```
       
       `ttest_ind(height_a,height_b)`：独立双样本t检验，适合两组样本的数据量较少的情况
       
       `p_value`：此处得到的P值直接与`alpha`值进行比较，即可得到推测结果`alpha`：表示预设的临界值
   
   - 独立双样本z检验
     
     - 安装依赖包`pip install statsmodels`
     
     - 引入模块`from statsmodels.stats.weightstats import ztest`
     
     - 关键代码二：
       
       ```python
       z_stat, p_value = ztest(height_a,height_b,alternative='two-sided')
       ```
       
       `alternative='two-sided'`：表示结果执行双尾检验，只推断两个均值之间是否存在显著差异。设置为`larger`，则表示第一个样本的均值是否显著大于第二个样本的均值；设置为`smaller`，则表示第一个样本的均值是否显著小于第二个样本的均值
       
       `p_value`：此处得到的P值直接与`alpha`值进行比较，即可得到推测结果`alpha`：表示预设的临界值

3. 项目：分析鸢尾花种类数据
   
   - 目的：判断两种鸢尾花的属性数据是否存在显著差异
   
   - 过程：
     
     - 读取数据
     
     - 评估数据
     
     - 清理数据
     
     - 整理数据
     
     - 探索数据【`sns.pairplot`：查看数据的基本情况】
     
     - 分析数据
       
       - 判断使用哪种检验方法【如果样本数量小于30，就使用独立双样本t检验；如果样本数量大于等于30，可以使用独立双样本z检验或独立双样本t检验】
       
       - 引入依赖包
       
       - 按照每种属性的角度，进行逐一分析【萼片的宽度、长度；花瓣的宽度、长度】
         
         - 查看两种样本数据的直方图【`sns.histplot`】
         - 建立建设【原假设：总体数据之间不存在显著差异（H0）；备择假设:总体数据之间存在显著差异。（H1）】（本处的“总体数据”要依据具体对比的属性进行必要的名称切换）
         - 确认检验是单尾还是双尾【我们只检验总体数据之间是否存在明显差异，那么就采用双尾检验；如果涉及到具体的大小判断，那么就采用单尾检验】
         - 确定显著水平【设`alpha`的值】
         - 计算t值和p值
         - 得出结论【表述总体数据之间是否存在显著差异】
       
       - 通过每种属性的显著差异，来判断总体数据之间的显著差异
